{# templates/archive-experience.twig #}
{% extends 'base.twig' %}

{% block content %}
<div class="container-fluid">
  
  <div class="row row--equal-height">
    {% for experience in experiences %}
      <div class="col-16">
        <div class="bento-card bento-card--dark">
          <div class="bento-card__header">
            <h2>{{ experience.title }}</h2>
          </div>
          
          <div class="bento-card__info-container">
            <!-- Entreprise & Location -->
            <div class="bento-card__info-item">
              <div class="info-icon">
                <img src="{{ theme.link }}/assets/src/img/location.svg" alt="Location" class="info-icon__svg info-icon__svg__dark">
              </div>
              <div class="info-content info-content__dark">
                {% if experience.meta('company') %}
                  {{ experience.meta('company') }},
                {% endif %}
                {{ experience.meta('location') }}
              </div>
            </div>
            
            <!-- Date -->
            <div class="bento-card__info-item  ">
              <div class="info-icon">
                <img src="{{ theme.link }}/assets/src/img/calendrier.svg" alt="Date" class="info-icon__svg info-icon__svg__dark"> 
              </div>
              <div class="info-content info-content__dark">
                {{ experience.meta('date_start')|date('Y') }}
                {% if experience.meta('date_end') %}
                  {% if experience.meta('date_end')|split('/')|last == experience.meta('date_start')|date('Y') %}
                  
                  {% else %}
                    - {{ experience.meta('date_end')|split('/')|last }}
                  {% endif %}
                {% else %}
                  - Actuellement
                {% endif %}
              </div>
            </div>
          </div>
          <!-- Description -->
          <div class="bento-card__description">
            {% if experience.content %}
              <span class="mobile-text">{{ experience.content|striptags|slice(0, 450) }}{% if experience.content|striptags|length > 450 %}...{% endif %}</span>
              <span class="desktop-text">{{ experience.content|striptags|slice(0, 1400) }}{% if experience.content|striptags|length > 1400 %}...{% endif %}</span>
            {% endif %}
          </div>
          
          <a href="{{ experience.link }}" class="discover-more">DÃ©couvrir plus</a>
        </div>
      </div>
    {% endfor %}  
  </div>
</div>
{% endblock %}